<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>New Way NTZ 시작하기</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✨</text></svg>">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

  <style>
    /* ===== Hero 레이아웃 ===== */
    .hero-wrap{
      position: relative;            /* wave-layer 위에 오도록 */
      z-index: 1;
      min-height: 100vh;
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      align-items: center;
      gap: 24px;
      padding: 40px clamp(16px, 4vw, 56px);
    }
    .hero-copy{
      color: #fff;
      font-weight: 900;
      letter-spacing: -1px;
      font-size: clamp(36px, 9vw, 96px);
      line-height: 0.95;
      user-select: none;
    }

    /* ===== 오른쪽 카드 스택 ===== */
    .stack{
      max-width: 520px;
      margin-left: auto;
    }
    .ribbon{
      background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.9));
      border: 2px solid rgba(255,255,255,.65);
      border-radius: 16px;
      box-shadow: 0 12px 24px rgba(0,0,0,.15);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }
    .ribbon .brand{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 800;
      color: var(--primary-color);
    }
    .ribbon .step{
      font-size: 13px;
      color: var(--text-secondary);
      font-weight: 700;
    }

    /* 내부 폼 카드 — 리본 폭과 정확히 일치 */
    .panel{
      margin-top: 12px;
      background: var(--bg-primary);
      border-radius: 16px;
      border: 2px solid rgba(0,0,0,.06);
      box-shadow: 0 18px 36px rgba(0,0,0,.18);
      padding: 20px;
    }
    .panel h3{
      margin: 4px 2px 14px;
      color: var(--secondary-color);
      font-size: 18px;
      text-align: center;
    }
    .panel .hint{
      margin: -6px 0 14px;
      text-align: center;
      color: var(--text-secondary);
      font-size: 13px;
    }

    .field{margin-bottom:12px}
    .field label{display:block;font-weight:700;margin-bottom:6px;color:var(--text-primary)}
    .field input{
      width: 100%;
      padding: 12px 14px;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 15px;
      background: #fff;
      transition: all .2s;
    }
    .field input:focus{
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(37,99,235,.08);
    }
    .help{
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 6px;
    }

    .btn-row{
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 14px;
    }
    .btn{
      appearance: none;
      border: none;
      cursor: pointer;
      font-weight: 800;
      padding: 12px 18px;
      border-radius: 12px;
      transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn-primary{
      background: var(--primary-color);
      color: #fff;
      box-shadow: 0 6px 14px rgba(37,99,235,.28);
    }
    .btn-primary:hover{ transform: translateY(-1px); }
    .btn-secondary{
      background: var(--warning-color);
      color:#fff;
      box-shadow: 0 6px 14px rgba(245,158,11,.25);
    }
    .btn-secondary:hover{ transform: translateY(-1px); }

    /* 모바일 대응 */
    @media (max-width: 980px){
      .hero-wrap{ grid-template-columns: 1fr; padding-top: 56px; }
      .stack{ margin: 0 auto; }
      .hero-copy{ text-align: center; margin-bottom: 8px; }
    }
  </style>
</head>
<body>

    <!-- 왼쪽: 카피 -->
    <div class="hero-copy">NEW WAY : NTZ.</div>

    <!-- 오른쪽: 리본 + 패널(동일 폭) -->
    <div class="stack">
      <div class="ribbon">
        <div class="brand">
          <span>🚀</span>
          <span>NTZ Fit 시작하기</span>
        </div>
        <div class="step">Step 1</div>
      </div>

      <div class="panel">
        <h3>참여자 정보 입력</h3>
        <p class="hint">이름과 생년월일(YYYYMMDD)을 입력하면 설문으로 이동합니다.</p>

        <div class="field">
          <label for="name">이름 *</label>
          <input id="name" type="text" placeholder="홍길동" autocomplete="name" />
        </div>

        <div class="field">
          <label for="birth">생년월일 (YYYYMMDD) *</label>
          <input id="birth" type="text" inputmode="numeric" placeholder="20000101" maxlength="8" />
          <div class="help">숫자 8자리만 입력 가능합니다.</div>
        </div>

        <div class="btn-row">
          <button class="btn btn-primary" id="goSurvey">다음 (설문으로)</button>
          <button class="btn btn-secondary" id="goAdmin">관리자 페이지</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== 입력 제한: YYYYMMDD(숫자 8자리 고정) ======
    const $birth = document.getElementById('birth');
    $birth.addEventListener('input', (e) => {
      // 숫자 이외 제거 + 8자리 제한
      let v = e.target.value.replace(/\D/g, '').slice(0, 8);
      e.target.value = v;
    });

    function isValidYmd(yyyymmdd){
      if (!/^\d{8}$/.test(yyyymmdd)) return false;
      const y = +yyyymmdd.slice(0,4);
      const m = +yyyymmdd.slice(4,6);
      const d = +yyyymmdd.slice(6,8);
      if (y < 1900 || y > 2100) return false;
      if (m < 1 || m > 12) return false;
      const last = new Date(y, m, 0).getDate();
      return d >= 1 && d <= last;
    }

    // ====== 이동 버튼 ======
    document.getElementById('goSurvey').addEventListener('click', () => {
      const name = (document.getElementById('name').value || '').trim();
      const birth = ($birth.value || '').trim();

      if (!name){ alert('이름을 입력해주세요.'); return; }
      if (!isValidYmd(birth)){ alert('생년월일은 YYYYMMDD 형식의 유효한 날짜여야 합니다.'); return; }

      // 사용자 컨텍스트 저장 (설문 완료 전)
      localStorage.setItem('macarong_user', JSON.stringify({
        name, birth, surveyCompleted: false
      }));

      // 설문 페이지로 이동
      location.href = 'survey.html';
    });

    document.getElementById('goAdmin').addEventListener('click', () => {
      // admin.html 내부에서 비밀번호(1234) 확인 로직 수행
      location.href = 'admin.html';
    });
  </script>
</body>
</html>
